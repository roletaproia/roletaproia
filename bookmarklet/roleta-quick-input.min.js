/**javascript:(function() { const CONFIG = { BACKEND_URL: 'https://roletaproia.onrender.com', USER_TOKEN: localStorage.getItem('auth_token') || 'guest' }; let numbersHistory = []; let recommendation = null; function createUI() { const oldUI = document.getElementById('roleta-pro-quick'); if (oldUI) oldUI.remove(); const ui = document.createElement('div'); ui.id = 'roleta-pro-quick'; ui.innerHTML = ` <style> #roleta-pro-quick { position: fixed; top: 50%; right: 20px; transform: translateY(-50%); background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 999999; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; width: 320px; max-height: 90vh; overflow-y: auto; } .rp-header { text-align: center; margin-bottom: 20px; } .rp-title { font-size: 20px; font-weight: bold; margin-bottom: 5px; } .rp-subtitle { font-size: 12px; opacity: 0.8; } .rp-numbers-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 20px; } .rp-number-btn { aspect-ratio: 1; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.2s; color: white; } .rp-number-btn:hover { transform: scale(1.1); box-shadow: 0 4px 12px rgba(0,0,0,0.3); } .rp-number-btn:active { transform: scale(0.95); } .rp-number-red { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); } .rp-number-black { background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%); } .rp-number-green { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); } .rp-history { background: rgba(255,255,255,0.15); padding: 12px; border-radius: 10px; margin-bottom: 15px; } .rp-history-title { font-size: 11px; opacity: 0.8; margin-bottom: 8px; } .rp-history-numbers { display: flex; gap: 6px; flex-wrap: wrap; } .rp-history-number { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; } .rp-recommendation { background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin-bottom: 15px; text-align: center; } .rp-rec-title { font-size: 12px; opacity: 0.8; margin-bottom: 8px; } .rp-rec-value { font-size: 18px; font-weight: bold; margin-bottom: 5px; } .rp-rec-confidence { font-size: 14px; opacity: 0.9; } .rp-close-btn { width: 100%; padding: 12px; background: rgba(255,255,255,0.2); border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; font-size: 14px; } .rp-close-btn:hover { background: rgba(255,255,255,0.3); } @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } } .pulse { animation: pulse 0.3s ease-in-out; } </style><div class="rp-header"><div class="rp-title">ü§ñ Roleta Pro I.A.</div><div class="rp-subtitle">Clique no n√∫mero que saiu</div></div><div class="rp-numbers-grid" id="numbers-grid"></div><div class="rp-history"><div class="rp-history-title">√öltimos 10 N√∫meros:</div><div class="rp-history-numbers" id="history"></div></div><div class="rp-recommendation" id="recommendation" style="display: none;"><div class="rp-rec-title">Recomenda√ß√£o:</div><div class="rp-rec-value" id="rec-value">-</div><div class="rp-rec-confidence" id="rec-confidence">-</div></div><button class="rp-close-btn" onclick="document.getElementById('roleta-pro-quick').remove()"> ‚úï Fechar </button> `; document.body.appendChild(ui); renderNumbers(); updateHistory(); } const RED_NUMBERS = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36]; const BLACK_NUMBERS = [2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35]; function getNumberColor(num) { if (num === 0) return 'green'; if (RED_NUMBERS.includes(num)) return 'red'; if (BLACK_NUMBERS.includes(num)) return 'black'; return 'black'; } function renderNumbers() { const grid = document.getElementById('numbers-grid'); grid.innerHTML = ''; for (let i = 0; i <= 36; i++) { const btn = document.createElement('button'); btn.className = `rp-number-btn rp-number-${getNumberColor(i)}`; btn.textContent = i; btn.onclick = () => handleNumberClick(i); grid.appendChild(btn); } } function updateHistory() { const historyEl = document.getElementById('history'); historyEl.innerHTML = ''; const last10 = numbersHistory.slice(0, 10); if (last10.length === 0) { historyEl.innerHTML = '<div style="opacity: 0.6; font-size: 12px;">Nenhum n√∫mero ainda</div>'; return; } last10.forEach(num => { const badge = document.createElement('div'); badge.className = `rp-history-number rp-number-${getNumberColor(num)}`; badge.textContent = num; historyEl.appendChild(badge); }); } async function sendNumber(number) { try { const response = await fetch(`${CONFIG.BACKEND_URL}/api/trpc/betting.addNumber`, { method: 'POST', headers: { 'Content-Type': 'application/json', }, body: JSON.stringify({ json: { number: number, timestamp: Date.now() } }) }); if (response.ok) { const data = await response.json(); return data.result?.data?.json || null; } return null; } catch (error) { console.error('Erro ao enviar n√∫mero:', error); return null; } } async function getRecommendation() { try { const response = await fetch(`${CONFIG.BACKEND_URL}/api/trpc/betting.getRecommendation`, { method: 'GET', headers: { 'Content-Type': 'application/json', } }); if (response.ok) { const data = await response.json(); return data.result?.data?.json || null; } return null; } catch (error) { console.error('Erro ao obter recomenda√ß√£o:', error); return null; } } async function handleNumberClick(number) { numbersHistory.unshift(number); if (numbersHistory.length > 50) { numbersHistory = numbersHistory.slice(0, 50); } updateHistory(); const buttons = document.querySelectorAll('.rp-number-btn'); buttons[number].classList.add('pulse'); setTimeout(() => { buttons[number].classList.remove('pulse'); }, 300); await sendNumber(number); const rec = await getRecommendation(); if (rec) { const recEl = document.getElementById('recommendation'); const recValue = document.getElementById('rec-value'); const recConfidence = document.getElementById('rec-confidence'); recEl.style.display = 'block'; recValue.textContent = rec.recommendation || 'Aguarde mais rodadas'; recConfidence.textContent = rec.confidence ? `Confian√ßa: ${rec.confidence}%` : ''; } } createUI();})();